<section class="confirm-main">
  <section class="left-bg">
    <div class="text">
      <h1>Create your free account</h1>
      <p>A thousand books are waiting for you</p>
    </div>
  </section>
  <section class="confirm-section">
    <ng-container>
      <div *ngIf="showForm; else errorMsg">
        <h1>Confirm Email</h1>
        <form
          [formGroup]="confirmForm"
          (submit)="onSubmitForm()"
          (input)="isErr = false"
        >
          <section class="email-info">
            <p>
              We sent a code to <strong>{{ email }}</strong
              >. Please check your email.
            </p>
          </section>
          <label>
            <p>Code</p>
            <input
              type="text"
              placeholder="Enter the code"
              formControlName="code"
            />
            <p *ngIf="!confirmForm.value.code && isErr" class="alert">
              This input cant be empty.
            </p>
            <p *ngIf="confirmForm.value.code && isErr" class="alert">
              Incorrect code.
            </p>
          </label>
          <button type="submit">Confirm</button>
          <div class="back">
            <a routerLink="/signup">Back</a>
          </div>
          <div class="resend">
            <p>Didn't get a code?</p>
            <p *ngIf="countdown > 0">{{ countdown }}</p>
            <button
              (click)="onSendAgain()"
              type="button"
              [disabled]="countdown > 0"
            >
              Send Again
            </button>
          </div>
        </form>
      </div>
      <ng-template #errorMsg>
        <h1>Something is wrong...</h1>
        <p>This email already verified or doesn't exist in our system.</p>
        <a routerLink="/signup">Go back</a>
      </ng-template>
    </ng-container>
  </section>
</section>
